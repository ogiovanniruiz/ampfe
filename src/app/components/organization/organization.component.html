<h1 fxLayoutAlign="center" *ngIf="dataLoaded">{{org.name}}'s Campaigns</h1>
<br>
<mat-tab-group>
    <mat-tab label="Active Campaigns"> 
        <div style="margin-top: 10%" fxLayout.xs="column" fxLayout="row" fxLayoutWrap fxLayoutAlign="center" fxLayoutGap="5%" *ngIf="!dataLoaded">
            <mat-card fxLayoutGap="10%" fxLayout="column" fxFlex="40" fxFlex.sm="60">
              <span fxLayoutAlign="center">
                <img width="373" height="81" alt="censusIE Logo" src="{{logo_dir}}">
              </span>
                  
              <section fxLayout="column" fxLayoutGap="10%">
                  <p fxLayoutAlign="center">Loading Organization Dashboard...</p>
                  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                  <br>
              </section>
            </mat-card>
        </div>
        <mat-grid-list #campaignGrid rowHeight="2:1">
            <mat-grid-tile *ngFor="let campaign of activeCampaigns;">
                <mat-card fxFlex=80% *ngIf="dataLoaded">
                    <button mat-icon-button width="40" height="40" style="float: right;" (click)="openEditCampaignDialog(campaign)">
                        <img width="40" height="40" alt="campaign" src="../assets/campaign.png">
                    </button>
                    <div>
                      <h1>{{campaign.name}}</h1>
                      <h4>ID: {{campaign.campaignID}}</h4>
                      <h4>{{campaign.description}}</h4>
                    </div>
                    <br>
                    <button mat-raised-button color="primary" [disabled]='!subscribed' (click)="enterCampaign(campaign.campaignID)">ENTER</button>
                </mat-card>
                <br>
                <br>
              </mat-grid-tile>
        </mat-grid-list>


    </mat-tab>
    <mat-tab label="Inactive Campaigns">
        <mat-grid-list #inactiveCampaignGrid rowHeight="2:1">
            <mat-grid-tile *ngFor="let campaign of inactiveCampaigns;">
                <mat-card fxFlex=80% *ngIf="dataLoaded">
                    <button mat-icon-button width="40" height="40" style="float: right;" (click)="openEditCampaignDialog(campaign)">
                        <img width="40" height="40" alt="campaign" src="../assets/campaign.png">
                    </button>
                    <div>
                      <h1>{{campaign.name}}</h1>
                      <h4>ID: {{campaign.campaignID}}</h4>
                      <h4>{{campaign.description}}</h4>
                    </div>
                    <br>
                    <button mat-raised-button color="warn" [disabled]='!subscribed' (click)="enterCampaign(campaign.campaignID)" *ngIf="orgLevel === 'ADMINISTRATOR' || dev">ENTER</button>
                </mat-card>
                <br>
                <br>
              </mat-grid-tile>
        </mat-grid-list>
    </mat-tab>
  </mat-tab-group>


<section fxLayoutAlign="end" *ngIf="dataLoaded">
    <section fxLayout="column" fxLayoutGap="10%">
        <button  mat-fab *ngIf="(dev || orgLevel === 'ADMINISTRATOR') && subscribed" matTooltip="Create a campaign." (click)="openCreateCampaignDialog()"><mat-icon>create</mat-icon></button> 
        <button  mat-fab *ngIf="dev || orgLevel === 'ADMINISTRATOR'" matTooltip="Request to join a campaign." (click)="openRequestCampaignDialog()"><mat-icon>add</mat-icon></button> 
        
        <button  mat-fab *ngIf="dev || orgLevel === 'ADMINISTRATOR'" color="primary" matTooltip="Membership List Manager" (click)="openMembership()"><mat-icon>account_box</mat-icon></button>
        <button  mat-fab *ngIf="dev || orgLevel === 'ADMINISTRATOR'" color="warn" matTooltip="Twilio Account" (click)="openTwilioAccountDialog()" ><mat-icon>call</mat-icon></button>
        <button  mat-fab *ngIf="dev || orgLevel === 'ADMINISTRATOR'" color="warn" matTooltip="Organization's Settings" (click)="openOrgSettingsDialog()" ><mat-icon>settings</mat-icon></button>
        <button  mat-fab *ngIf="dev || orgLevel === 'ADMINISTRATOR'" color="primary" matTooltip="Subscription" (click)="openOrgBillingDialog()"><mat-icon>monetization_on</mat-icon></button>
    </section>
</section>
<!--
<h1 fxLayoutAlign="center" *ngIf="(orgLevel === 'ADMINISTRATOR' || dev) && dataLoaded">{{org.name}}'s Dashboard</h1>
<mat-grid-list #grid rowHeight="2:1">

    
    <mat-grid-tile *ngIf="(orgLevel === 'ADMINISTRATOR' || dev) && dataLoaded">
        <mat-card fxFlex=80% fxLayout="column">
            <section>
                <button mat-icon-button width="40" height="40" style="float: right;">
                    <img width="40" height="40" alt="campaign" src="../assets/members.jpg">
                </button>
                <h2>{{org.name}}'s Membership List</h2>
                <h4>A place to manage Membership, tags and uploaded lists.</h4>
            </section>
            <br>
            <button mat-raised-button color="primary" fxFlex=80% (click)="openMembership()">ENTER</button>
        </mat-card>
        <br>
        <br>
    </mat-grid-tile>
    <mat-grid-tile *ngIf="(orgLevel === 'ADMINISTRATOR' || dev) && dataLoaded">
        <mat-card fxFlex=80% fxLayout="column">
            <div>
                <button mat-icon-button width="40" height="40" style="float: right;">
                    <img width="40" height="40" alt="campaign" src="../assets/wrench.png">
                </button>
              <h2>{{org.name}}'s Settings</h2>
              <h4>A place to manage Organization's Logo and more.</h4>
            </div>
            <br>
            <button mat-raised-button fxFlex=80%  color="primary" (click)="openOrgSettingsDialog()">ENTER</button>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile *ngIf="(orgLevel === 'ADMINISTRATOR' || dev) && dataLoaded">
        <mat-card fxFlex=80% fxLayout="column">
            <div>
                <button mat-icon-button width="40" height="40" style="float: right;">
                    <img width="40" height="40" alt="campaign" src="../assets/phone.png">
                </button>
              <h2>{{org.name}}'s Twilio Account</h2>
              <h4>A place to manage Organization's Phone Numbers and more.</h4>
            </div>
            <br>
            <button mat-raised-button color="primary" fxFlex=100% (click)="openTwilioAccountDialog()" *ngIf="funded">ENTER</button>
            <mat-error *ngIf="!funded">Organization is not funded.</mat-error>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile *ngIf="(orgLevel === 'ADMINISTRATOR'|| dev) && dataLoaded ">
        <mat-card fxFlex=80% fxLayout="column">
            <div>
                <button mat-icon-button width="40" height="40" style="float: right;">
                    <img width="40" height="40" alt="campaign" src="../assets/funding.png">
                </button>
              <h2>{{org.name}}'s Billing</h2>
              <h4>A place to manage Organization's Billing and more.</h4>
            </div>
            <br>
            <button mat-raised-button color="primary" fxFlex=100% (click)="openOrgBillingDialog()">ENTER</button>
        </mat-card>
    </mat-grid-tile>
</mat-grid-list>
-->
<mat-error fxLayoutAlign="center" *ngIf="displayErrorMsg">{{errorMessage}}</mat-error>


